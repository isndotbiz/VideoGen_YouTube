# VideoGen YouTube - Quick Reference (Easy to Remember)

## The 11-Stage Video Pipeline (Simple Version)

### Stage 1: WEB SCRAPING ðŸ•·ï¸
**Tool:** Firecrawl API
**Input:** URL/topic
**Output:** JSONL file with scraped content
**+ Find 3 more trusted sources manually**

### Stage 2: SCRIPT WRITING âœï¸
**Tool:** Claude (LLM)
**Input:** JSONL research + topic
**Output:** Script (~600-1000 words, 3-5 min read)
**âš ï¸ IMPORTANT:** Use [PAUSE:2000ms] NOT "pause for 2 seconds" - ElevenLabs reads everything literally

### Stage 3: COLOR PALETTE ðŸŽ¨
**Tool:** Manual (Coolors.co)
**Input:** Topic/brand
**Output:** 5 colors (HEX codes)
**âœ“ Must pass WCAG AA accessibility test**

### Stage 4: IMAGES & INFOGRAPHICS ðŸ–¼ï¸
**Tool:** FAL.ai
- **Infographics:** Nano Banana model
- **Beautiful Images:** Flux Dev model
**Alternative:** Local Comfy server (3090 GPU)
**Backup:** Replicate API
**Input:** Script text + color palette
**Output:** PNG images

### Stage 5: ANIMATIONS ðŸŽ¬
**Tool:** FAL.ai WAN 2.5
**Input:** Static images + motion descriptions
**Output:** 4-second video clips
**Time:** 2-3 minutes per clip (20-30 min for 8 clips)

### Stage 6: NARRATION ðŸŽ™ï¸
**Tool:** ElevenLabs API
**Input:** Script (cleaned, no [PAUSE] text)
**Output:** MP3 narration
**Voice:** Rachel (professional)
**Time:** 30 seconds

### Stage 7: BACKGROUND MUSIC ðŸŽµ
**Tool:** Pexels API â†’ Download royalty-free music
**Then:** Mix with narration (15% BGM volume, 100% narration)
**Tool for mixing:** pydub or ffmpeg
**Output:** mixed_audio.mp3

### Stage 8: SUBTITLES ðŸ“
**Tool:** Assembly AI (speech-to-text)
**Input:** Narration MP3
**Output:** SRT file (synchronized subtitles)
**Time:** 1-2 minutes

### Stage 9: FINAL COMPOSITION ðŸŽ¥
**Tool:** ShortStack API (PRIMARY) or FFmpeg (BACKUP)
**Combine:**
1. Colored background video
2. Static images (timed to script)
3. Animation clips (timed to script)
4. Subtitles (text overlays)
5. Mixed audio (narration + 15% BGM)
**Output:** video_COMPLETE.mp4 (1920x1080, 24fps, H.264)
**Time:** 5-15 minutes

### Stage 10: PLATFORM VERSIONS ðŸ“± (OPTIONAL)
**Create versions for:**
- YouTube: 16:9 (1920x1080)
- TikTok: 9:16 (1080x1920)
- Instagram: 9:16 with padding
- Twitter: 16:9 (1280x720)

### Stage 11: CLOUD STORAGE â˜ï¸ (OPTIONAL)
**Tool:** AWS S3
**Store:** Final video + all assets

---

## API CHECKLIST (What You Have Available)

```
ACTIVE APIS (Use These):
âœ“ ELEVENLABS_API_KEY        â†’ Narration
âœ“ FAL_API_KEY               â†’ Images + Animations
âœ“ ASSEMBLYAI_API_KEY        â†’ Subtitles
âœ“ PEXELS_API_KEY            â†’ Background music
âœ“ SHORTSTACK_API_KEY        â†’ Video stitching
âœ“ FIRECRAWL_API_KEY         â†’ Web scraping

BACKUPS (If primary fails):
âœ“ REPLICATE_API_KEY         â†’ Alternative image/video generation
âœ“ OPENAI_API_KEY            â†’ Alternative script/TTS
âœ“ COMFY_GPU_ENDPOINT        â†’ Local GPU image generation
âœ“ FFmpeg (install locally)   â†’ Video composition fallback

BONUS:
âœ“ AWS_* keys                â†’ Cloud storage
âœ“ RUNWAY_API_KEY            â†’ Alternative video generation
âœ“ DESCRIPT_API_KEY          â†’ Video editing alternative
```

---

## CRITICAL DETAILS TO REMEMBER

### 1. ElevenLabs Script Format
âŒ WRONG: "This is a test. Pause for 2 seconds. Now continue."
âœ… RIGHT: "This is a test. [PAUSE:2000ms] Now continue."
**Why:** ElevenLabs reads everything aloud. [PAUSE] format adds silence, not spoken words.

### 2. Audio Mixing Math
- Narration volume: 1.0 (100%)
- Background music: 0.15 (15%)
- In dB: BGM -16dB
- Result: Narration stays clear, BGM is subtle background

### 3. Color Palette WCAG
- Minimum contrast for text on color: **4.5:1 ratio**
- Test with: WebAIM Contrast Checker
- Applies to all text overlays in video

### 4. Image Generation Prompts
Include in every prompt:
- Color hex codes: "using colors #1e3c72 and #ff6b35"
- Resolution: "4K quality", "high resolution"
- Style: "professional", "modern", "infographic"

### 5. Animation Duration
- Each WAN 2.5 animation: Always 4 seconds
- Aspect ratio: Always 16:9
- Quality: Always 1080p minimum

### 6. Subtitle Timing
- Must match actual narration audio timing
- Generated by Assembly AI (automatic)
- Format: SRT (SubRip Text)
- Readable in: VLC, YouTube, all platforms

### 7. Video Final Specs
- Resolution: **1920x1080** (Full HD, 16:9)
- Codec: **H.264** (libx264)
- Audio: **AAC, 128kbps**
- Frame rate: **24 FPS**
- Duration: **3-5 minutes typical**
- File format: **MP4**

---

## TYPICAL WORKFLOW TIMING

| Stage | Time | Notes |
|-------|------|-------|
| Web Scraping | 2-3 min | Manual + Firecrawl |
| Script Writing | 3-5 min | Claude generates |
| Color Palette | 5-10 min | Manual design |
| Images/Infographics | 5-10 min | Flux + Nano Banana |
| Animations (8x) | 20-30 min | 2-3 min each |
| Narration | 1 min | ElevenLabs |
| Audio Mixing | 2-3 min | Pydub/ffmpeg |
| Subtitles | 2-3 min | Assembly AI |
| Composition | 10-15 min | ShortStack |
| Platform Versions | 5-10 min | FFmpeg scaling |
| **TOTAL** | **60-90 min** | **Animation is biggest time sink** |

**Quick test video (no animations): 10-15 minutes total**

---

## FOLDER STRUCTURE FOR ORGANIZATION

```
project/
â”œâ”€â”€ research/[topic]/          â† Firecrawl output
â”œâ”€â”€ scripts/[topic]/           â† Generated script
â”œâ”€â”€ design/[topic]/            â† Color palette JSON
â”œâ”€â”€ assets/[topic]/
â”‚   â”œâ”€â”€ images/                â† Flux images
â”‚   â”œâ”€â”€ infographics/          â† Nano Banana graphics
â”‚   â””â”€â”€ animations/            â† WAN 2.5 video clips
â”œâ”€â”€ audio/[topic]/
â”‚   â”œâ”€â”€ narration.mp3          â† ElevenLabs output
â”‚   â”œâ”€â”€ background_music.mp3   â† Pexels download
â”‚   â””â”€â”€ mixed_audio.mp3        â† 15% BGM + narration
â”œâ”€â”€ subtitles/[topic]/         â† Assembly AI SRT
â””â”€â”€ video/[topic]/
    â””â”€â”€ video_COMPLETE.mp4     â† Final output
```

---

## FAILURE RECOVERY

**If Firecrawl fails:** Research manually, save URLs to text file
**If FAL.ai fails:** Use Replicate API or local Comfy server
**If ElevenLabs fails:** Use OpenAI TTS as backup
**If Assembly AI fails:** Use basic SRT template with manual timing
**If Pexels fails:** Use placeholder music in /output folder
**If ShortStack fails:** Use FFmpeg command line composition
**If video codec fails:** Use OpenCV + pydub instead of FFmpeg

---

## 3-COMMAND QUICK START (TEST VIDEO)

```bash
# 1. Create base video with narration + 15% BGM (already done)
python compose_with_opencv.py

# 2. Add subtitles to video (from Assembly AI)
python get_subtitles_assembly.py
python embed_subtitles.py

# 3. Generate animations (when you're ready - takes 20-30 min)
python generate_animations_with_fal.py
```

**Result:** Full test video with narration, music, subtitles, and animations

---

## WHAT TO TELL CLAUDE IN THE FUTURE

> "Generate a video about [TOPIC] using the stages in MASTER_WORKFLOW_DOCUMENTATION.md.
> Use the APIs configured in .env.
> Follow WORKFLOW_QUICK_REFERENCE.md for important details like [PAUSE] format and 15% BGM volume.
> Create a [TIMING] video.
> The goal is to generate [SPECIFIC_OUTPUT] before we move to [NEXT_STAGE]."

Example:
> "Generate a 3-minute video about 'AI Tools for 2026' using Stages 1-2.
> Output: Firecrawl JSONL + script with [PAUSE] markers.
> Don't run narration or animations yet - just research and script."

---

## THINGS CLAUDE NEEDS TO KNOW

1. **Timing is everything** - Narration duration, pause timing, animation timing, subtitle timing all must sync
2. **Colors must be consistent** - Every image, infographic, text overlay uses the 5-color palette
3. **Audio is critical** - 15% BGM is very specific, narration must be clear, subtitles must match
4. **ElevenLabs is literal** - No instructions like "read slowly" - only spoken words or [PAUSE]
5. **Subtitles require accurate timing** - Sync to actual narration audio, not script timing
6. **Each stage is independent** - But outputs feed into next stage, so order matters
7. **Backup options exist** - Know which APIs are primary vs backup
8. **Local GPU is available** - Can use Comfy instead of cloud APIs for image generation
9. **Quality standards** - WCAG compliance, 1080p minimum, 24fps, H.264 codec
10. **Organization matters** - Keep files organized by topic for repeatability

---

## ONE-PAGE CHEAT SHEET

```
WEB SCRAPING â†’ SCRIPT â†’ COLORS â†’ IMAGES â†’ ANIMATIONS â†’ NARRATION â†’ MUSIC â†’ SUBTITLES â†’ COMPOSE â†’ DONE

Firecrawl      Claude   Manual   FAL.ai   FAL.ai     ElevenLabs Pexels  Assembly   ShortStack
(JSONL)        (TXT)    (JSON)   (PNG)    (MP4)      (MP3)      (MP3)   (SRT)      (MP4)

Key Rules:
â€¢ [PAUSE:2000ms] not "pause 2 seconds"
â€¢ 15% background music volume
â€¢ WCAG AA color contrast
â€¢ 1920x1080, 24fps, H.264
â€¢ 4-second animation clips
â€¢ Script = 600-1000 words
â€¢ Subtitles = auto-timed from audio

Time: 60-90 min (without animations: 10-15 min)
```

---

## NEXT STEP

Create scripts for:
1. `test_full_pipeline.py` - Run all stages in sequence
2. `test_individual_stage.py` - Test one stage at a time
3. `error_handler.py` - Fallback options for failures

Then run full pipeline with your first real topic!
